<h5 class="mb-2">Consulta de Produtos</h5>

<div *ngIf="mensagem != ''" class="alert alert-primary alert-dismissible fade show" role="alert">
  <strong>{{mensagem}}</strong>
  <button type="button" class="btn-close" aria-label="Close" (click)="mensagem = ''"></button>
</div>

<table class="table table-sm table-hover table-striped">
  <thead>
    <tr>
      <th scope="col">Nome</th>
      <th scope="col">Preço</th>
      <th scope="col">Quantidade</th>
      <th scope="col">Total</th>
      <th scope="col">Fornecedor</th>
      <th scope="col">Opções</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let p of produtos">
      
      <td>{{p.nome | uppercase}}</td>
      <td>{{p.preco | currency: 'R$ '}}</td>
      <td>{{p.quantidade}}</td>
      <td>{{p.preco * p.quantidade | currency: 'R$'}}</td>
      <td>
        <div>{{p.fornecedor.razaoSocial}}</div>
        <div>{{p.fornecedor.cnpj}}</div>
      </td>
      
      <td>
        <button [routerLink]="['/pages/edicao-produtos', p.id]" 
        class="btn btn-sm btn-outline-primary"> Editar </button>
        <button class="btn btn-sm btn-outline-danger ms-2" 
        (click)="onDelete(p.id)">
          Excluir
        </button>
      </td>
    </tr>

  </tbody>
  <tfoot>
    <tr>
      <td colspan="2">
        Quantidade de Produtos = {{produtos.length}}
      </td>
    </tr>
  </tfoot>
</table>